
# CSS의 Cascading 정리

## 1. Cascading의 정의

**Cascading**은 영어로 '작은 폭포', '폭포처럼 쏟아지는 물'이라는 의미를 가지고 있습니다.  
CSS에서 Cascading은 여러 스타일 규칙이 하나의 요소에 적용될 때, **우선순위**에 따라 어떤 스타일이 적용될지를 결정하는 **선택 과정**을 의미합니다.  
이 과정은 아래 세 가지 기준에 따라 결정됩니다:

- 특수성 (Specificity)  
- 중요도 (Importance)  
- 소스 순서 (Source Order)

---

## 2. Cascading의 세 가지 요소

### 2.1 특수성 (Specificity)

특수성은 여러 CSS 규칙이 같은 요소에 적용될 때, 어떤 규칙이 우선 적용될지를 결정하는 점수 체계입니다.  
점수 기준은 아래와 같습니다:

| 선택자 유형                          | 점수   | 표현 방식        |
|-----------------------------------|--------|------------------|
| 인라인 스타일                      | 1000   | (1, 0, 0, 0)     |
| ID 선택자                          | 100    | (0, 1, 0, 0)     |
| 클래스 / 속성 / 가상 클래스 선택자 | 10     | (0, 0, 1, 0)     |
| 태그 / 가상 요소 선택자            | 1      | (0, 0, 0, 1)     |

> `!important`는 특수성과 무관하게 **가장 높은 우선순위**를 가집니다.

#### 예시 코드:

```html
<style>
  div {
    color: gray; /* (0, 0, 0, 1) */
  }
  .title {
    color: blue; /* (0, 0, 1, 0) */
  }
  #main-title {
    color: red; /* (0, 1, 0, 0) */
  }
</style>

<h1 id="main-title" class="title">Hello CSS</h1>
```

- 위 예시에서는 ID 선택자인 `#main-title`이 가장 높은 특수성을 가지므로 `color: red`가 적용됩니다.

---

### 2.2 중요도 (Importance)

`!important`가 선언된 스타일은 특수성과 관계없이 **최우선으로 적용**됩니다.

#### 예시 코드:

```css
h1 {
  color: blue !important;
}

#title {
  color: red;
}
```

- 이 경우 `#title`이 더 높은 특수성을 가지더라도, `!important`가 선언된 `color: blue`가 적용됩니다.

> `!important`는 우선순위를 강제로 끌어올리는 기능이지만, 유지보수에 어려움을 줄 수 있으므로 남용은 피해야 합니다.

---

### 2.3 소스 순서 (Source Order)

같은 특수성을 가진 규칙이 충돌할 경우, **나중에 선언된 스타일**이 적용됩니다.

#### 예시 코드:

```css
h1 {
  color: red;
}
h1 {
  color: blue;
}
```

- 위 코드에서는 두 규칙의 특수성이 동일하므로, 나중에 작성된 `color: blue`가 적용됩니다.

---

## 3. 스타일 출처(Origin)에 따른 우선순위

CSS는 스타일의 **출처(origin)** 에 따라 기본 우선순위가 다르게 적용됩니다.

### 3.1 사용자 에이전트 스타일시트 (User-Agent Stylesheet)

- 브라우저가 기본적으로 제공하는 스타일.
- 예: `<h1>`은 기본적으로 굵고 큰 글씨.
- 보통 `reset.css` 등을 사용하여 초기화함.
- **우선순위 가장 낮음**

### 3.2 저자 스타일시트 (Author Stylesheet)

- 개발자가 작성한 CSS.
- 예: `<style>`, `style.css`, `style=""` 등.
- **일반적으로 가장 강력한 스타일**

### 3.3 사용자 스타일시트 (User Stylesheet)

- 사용자가 브라우저 설정이나 확장 프로그램을 통해 설정한 CSS.
- 예: 시각 장애 사용자의 큰 글씨 설정, 다크모드 적용 등.

---

## 4. Origin 우선순위 정리

| 스타일 출처                       | `!important` 여부 | 우선순위 수준     |
|----------------------------------|-------------------|------------------|
| 사용자 스타일시트 (User)         | 있음              | 가장 높음         |
| 저자 스타일시트 (Author)        | 있음              | 두 번째로 높음    |
| 저자 스타일시트 (Author)        | 없음              | 세 번째           |
| 사용자 스타일시트 (User)         | 없음              | 네 번째           |
| 사용자 에이전트 스타일시트       | 해당 없음         | 가장 낮음         |

---

## 5. 정리

- CSS의 Cascading은 충돌하는 규칙 중 어떤 스타일이 적용될지를 결정하는 과정입니다.
- `!important`가 있으면 특수성과 소스 순서보다 우선합니다.
- 특수성 점수는 선택자의 종류에 따라 계산되며, 높을수록 우선 적용됩니다.
- 같은 특수성일 경우 나중에 작성된 코드가 우선합니다.
- 스타일의 출처(origin)에 따라서도 우선순위가 달라집니다.

## 6. 출처
https://express.tistory.com/16